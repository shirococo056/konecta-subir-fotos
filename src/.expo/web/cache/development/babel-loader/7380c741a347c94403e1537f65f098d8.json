{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, useEffect } from 'react';\nimport { getPhotos } from \"../services/firebase\";\nexport default function usePhotos(user) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      photos = _useState2[0],\n      setPhotos = _useState2[1];\n\n  useEffect(function () {\n    function getTimelinePhotos() {\n      var _user$following;\n\n      var followedUserPhotos;\n      return _regeneratorRuntime.async(function getTimelinePhotos$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!((user == null ? void 0 : (_user$following = user.following) == null ? void 0 : _user$following.length) > 0)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(getPhotos(user.userId, user.following));\n\n            case 3:\n              followedUserPhotos = _context.sent;\n              followedUserPhotos.sort(function (a, b) {\n                return b.dateCreated - a.dateCreated;\n              });\n              setPhotos(followedUserPhotos);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n\n    getTimelinePhotos();\n  }, [user == null ? void 0 : user.userId]);\n  return {\n    photos: photos\n  };\n}","map":{"version":3,"sources":["C:/Users/Adri/Desktop/subir fotos/src/hooks/use-photos.js"],"names":["useState","useEffect","getPhotos","usePhotos","user","photos","setPhotos","getTimelinePhotos","following","length","userId","followedUserPhotos","sort","a","b","dateCreated"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,SAAT;AAEA,eAAe,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;AACtC,kBAA4BJ,QAAQ,CAAC,IAAD,CAApC;AAAA;AAAA,MAAOK,MAAP;AAAA,MAAeC,SAAf;;AAEAL,EAAAA,SAAS,CAAC,YAAM;AACd,aAAeM,iBAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEM,CAAAH,IAAI,QAAJ,+BAAAA,IAAI,CAAEI,SAAN,qCAAiBC,MAAjB,IAA0B,CAFhC;AAAA;AAAA;AAAA;;AAAA;AAAA,+CAGqCP,SAAS,CAACE,IAAI,CAACM,MAAN,EAAcN,IAAI,CAACI,SAAnB,CAH9C;;AAAA;AAGUG,cAAAA,kBAHV;AAKIA,cAAAA,kBAAkB,CAACC,IAAnB,CAAwB,UAACC,CAAD,EAAIC,CAAJ;AAAA,uBAAUA,CAAC,CAACC,WAAF,GAAgBF,CAAC,CAACE,WAA5B;AAAA,eAAxB;AACAT,cAAAA,SAAS,CAACK,kBAAD,CAAT;;AANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUAJ,IAAAA,iBAAiB;AAClB,GAZQ,EAYN,CAACH,IAAD,oBAACA,IAAI,CAAEM,MAAP,CAZM,CAAT;AAcA,SAAO;AAAEL,IAAAA,MAAM,EAANA;AAAF,GAAP;AACD","sourcesContent":["import { useState, useEffect } from 'react';\nimport { getPhotos } from '../services/firebase';\n\nexport default function usePhotos(user) {\n  const [photos, setPhotos] = useState(null);\n\n  useEffect(() => {\n    async function getTimelinePhotos() {\n      // example: [2, 1, 5] <- 2 being raphel\n      if (user?.following?.length > 0) {\n        const followedUserPhotos = await getPhotos(user.userId, user.following);\n        // re-arrange array to be newest photos first by dateCreated\n        followedUserPhotos.sort((a, b) => b.dateCreated - a.dateCreated);\n        setPhotos(followedUserPhotos);\n      }\n    }\n\n    getTimelinePhotos();\n  }, [user?.userId]);\n\n  return { photos };\n}\n"]},"metadata":{},"sourceType":"module"}