{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Adri\\\\Desktop\\\\subir fotos\\\\src\\\\components\\\\profile\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useReducer, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from \"./header\";\nimport Photos from \"./photos\";\nimport { getUserPhotosByUsername } from \"../../services/firebase\";\nexport default function Profile(_ref) {\n  var user = _ref.user;\n\n  var reducer = function reducer(state, newState) {\n    return _objectSpread(_objectSpread({}, state), newState);\n  };\n\n  var initialState = {\n    profile: {},\n    photosCollection: [],\n    followerCount: 0\n  };\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      _useReducer2$ = _useReducer2[0],\n      profile = _useReducer2$.profile,\n      photosCollection = _useReducer2$.photosCollection,\n      followerCount = _useReducer2$.followerCount,\n      dispatch = _useReducer2[1];\n\n  useEffect(function () {\n    function getProfileInfoAndPhotos() {\n      var photos;\n      return _regeneratorRuntime.async(function getProfileInfoAndPhotos$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(getUserPhotosByUsername(user.username));\n\n            case 2:\n              photos = _context.sent;\n              dispatch({\n                profile: user,\n                photosCollection: photos,\n                followerCount: user.followers.length\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n\n    getProfileInfoAndPhotos();\n  }, [user.username]);\n  return React.createElement(React.Fragment, null, React.createElement(Header, {\n    photosCount: photosCollection ? photosCollection.length : 0,\n    profile: profile,\n    followerCount: followerCount,\n    setFollowerCount: dispatch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }), React.createElement(Photos, {\n    photos: photosCollection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }));\n}\nProfile.propTypes = {\n  user: PropTypes.shape({\n    dateCreated: PropTypes.number,\n    emailAddress: PropTypes.string,\n    followers: PropTypes.array,\n    following: PropTypes.array,\n    fullName: PropTypes.string,\n    userId: PropTypes.string,\n    username: PropTypes.string\n  })\n};","map":{"version":3,"sources":["C:/Users/Adri/Desktop/subir fotos/src/components/profile/index.js"],"names":["useReducer","useEffect","PropTypes","Header","Photos","getUserPhotosByUsername","Profile","user","reducer","state","newState","initialState","profile","photosCollection","followerCount","dispatch","getProfileInfoAndPhotos","username","photos","followers","length","propTypes","shape","dateCreated","number","emailAddress","string","array","following","fullName","userId"],"mappings":";;;;;;;;;AAAA,SAASA,UAAT,EAAqBC,SAArB,QAAsC,OAAtC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP;AACA,OAAOC,MAAP;AACA,SAASC,uBAAT;AAEA,eAAe,SAASC,OAAT,OAA2B;AAAA,MAARC,IAAQ,QAARA,IAAQ;;AACxC,MAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD,EAAQC,QAAR;AAAA,2CAA2BD,KAA3B,GAAqCC,QAArC;AAAA,GAAhB;;AACA,MAAMC,YAAY,GAAG;AACnBC,IAAAA,OAAO,EAAE,EADU;AAEnBC,IAAAA,gBAAgB,EAAE,EAFC;AAGnBC,IAAAA,aAAa,EAAE;AAHI,GAArB;;AAMA,oBAAiEd,UAAU,CACzEQ,OADyE,EAEzEG,YAFyE,CAA3E;AAAA;AAAA;AAAA,MAASC,OAAT,iBAASA,OAAT;AAAA,MAAkBC,gBAAlB,iBAAkBA,gBAAlB;AAAA,MAAoCC,aAApC,iBAAoCA,aAApC;AAAA,MAAqDC,QAArD;;AAKAd,EAAAA,SAAS,CAAC,YAAM;AACd,aAAee,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACuBX,uBAAuB,CAACE,IAAI,CAACU,QAAN,CAD9C;;AAAA;AACQC,cAAAA,MADR;AAEEH,cAAAA,QAAQ,CAAC;AAAEH,gBAAAA,OAAO,EAAEL,IAAX;AAAiBM,gBAAAA,gBAAgB,EAAEK,MAAnC;AAA2CJ,gBAAAA,aAAa,EAAEP,IAAI,CAACY,SAAL,CAAeC;AAAzE,eAAD,CAAR;;AAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIAJ,IAAAA,uBAAuB;AACxB,GANQ,EAMN,CAACT,IAAI,CAACU,QAAN,CANM,CAAT;AAQA,SACE,0CACE,oBAAC,MAAD;AACE,IAAA,WAAW,EAAEJ,gBAAgB,GAAGA,gBAAgB,CAACO,MAApB,GAA6B,CAD5D;AAEE,IAAA,OAAO,EAAER,OAFX;AAGE,IAAA,aAAa,EAAEE,aAHjB;AAIE,IAAA,gBAAgB,EAAEC,QAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOE,oBAAC,MAAD;AAAQ,IAAA,MAAM,EAAEF,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADF;AAWD;AAEDP,OAAO,CAACe,SAAR,GAAoB;AAClBd,EAAAA,IAAI,EAAEL,SAAS,CAACoB,KAAV,CAAgB;AACpBC,IAAAA,WAAW,EAAErB,SAAS,CAACsB,MADH;AAEpBC,IAAAA,YAAY,EAAEvB,SAAS,CAACwB,MAFJ;AAGpBP,IAAAA,SAAS,EAAEjB,SAAS,CAACyB,KAHD;AAIpBC,IAAAA,SAAS,EAAE1B,SAAS,CAACyB,KAJD;AAKpBE,IAAAA,QAAQ,EAAE3B,SAAS,CAACwB,MALA;AAMpBI,IAAAA,MAAM,EAAE5B,SAAS,CAACwB,MANE;AAOpBT,IAAAA,QAAQ,EAAEf,SAAS,CAACwB;AAPA,GAAhB;AADY,CAApB","sourcesContent":["import { useReducer, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from './header';\nimport Photos from './photos';\nimport { getUserPhotosByUsername } from '../../services/firebase';\n\nexport default function Profile({ user }) {\n  const reducer = (state, newState) => ({ ...state, ...newState });\n  const initialState = {\n    profile: {},\n    photosCollection: [],\n    followerCount: 0\n  };\n\n  const [{ profile, photosCollection, followerCount }, dispatch] = useReducer(\n    reducer,\n    initialState\n  );\n\n  useEffect(() => {\n    async function getProfileInfoAndPhotos() {\n      const photos = await getUserPhotosByUsername(user.username);\n      dispatch({ profile: user, photosCollection: photos, followerCount: user.followers.length });\n    }\n    getProfileInfoAndPhotos();\n  }, [user.username]);\n\n  return (\n    <>\n      <Header\n        photosCount={photosCollection ? photosCollection.length : 0}\n        profile={profile}\n        followerCount={followerCount}\n        setFollowerCount={dispatch}\n      />\n      <Photos photos={photosCollection} />\n    </>\n  );\n}\n\nProfile.propTypes = {\n  user: PropTypes.shape({\n    dateCreated: PropTypes.number,\n    emailAddress: PropTypes.string,\n    followers: PropTypes.array,\n    following: PropTypes.array,\n    fullName: PropTypes.string,\n    userId: PropTypes.string,\n    username: PropTypes.string\n  })\n};\n"]},"metadata":{},"sourceType":"module"}